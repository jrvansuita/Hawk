<style>
  .scu-holder{
    width: 60%;
    padding-top: 5px;
    margin-bottom: 15px;
  }

  .scu-grid{
    width: 100%;
    columns: 4 100px;
    column-gap: 1rem;
  }

  .scu-grid .item{
    width: 100px;
    color: white;
    margin: 0 1rem 1rem 0;
    display: inline-block;
    width: 100%;
  }

  .scu-grid .item > img{
    cursor: pointer;
    position: relative;
    width: 100%;
    border-radius: 2px;
    transition: all .2s ease-in-out;
  }

  .scu-grid .item > img:hover{
    transform: scale(1.06);
  }

  .scu-load-more{
    margin-top: -10em;
    height: 10em;
    position: relative;
    width: auto;
    background: linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 80%);
  }

  .scu-load-more > button{
    box-shadow: 0px 7px 14px -7px #696969;
    background-color:white;
    outline: none;
    border-radius:4px;
    border:1px solid #9e9e9e;
    cursor:pointer;
    color:#7a7a7a;
    position: absolute;
    bottom: 0;
    right: 0;
    left: 50%;
    margin-right: -50%;
    transform: translate(-50%, -25%);
    font-size: 13px;
    font-weight:bold;
    padding: 5px 10px;
    text-decoration:none;
    text-shadow:0px 1px 0px #ffffff;
  }

</style>
<div class="scu-holder"><div class="scu-grid"></div></div>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script type="text/javascript">
  $ = jQuery;

  const params = new URLSearchParams(window.location.search);
  const sku = params.get('sku') || $(".product-specs__sku").text() || 'any';
  const host = "https://hawkhomolog.herokuapp.com/";
  //const host = "http://localhost:3000/";


  class ProductShareWidget{
    constructor(sku){
      this.page = 0;
      this.sku = sku;
    }

    getUrl(){
      return host + "get-sku-pictures-page?sku=" + this.sku + "&page=" + this.page;
    }

    loadNext(){
      this.page++;

      $.get(this.getUrl(), (data) => {
        if(data && data.length){
          if(this.page == 1)
          this.onFirstPageLoad();

          data.forEach((each)=>{
            var item = $('<div>').addClass('item').append($('<img>').attr('src', each.img));
              if (each.url){
                item.click(() => {window.open(each.url, '_blank')});
              }
              $('.scu-grid').append(item);
              item.hide().fadeIn(200);
            });
          }
        });
      }

      onFirstPageLoad(){
        $('.scu-grid').before($('<h2>').append('Fotos Compartilhadas pelos Clientes'));
          var button = $('<button>').text('Carregar Mais');
          var loadHolder = $("<div>").addClass("scu-load-more").append(button);
            $('.scu-holder').append(loadHolder);

            button.click(() => {
              this.loadNext();
            })
          }

        };

        new ProductShareWidget(sku).loadNext();
      </script>
